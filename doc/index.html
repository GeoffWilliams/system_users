<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  File: README
  
    &mdash; Documentation by YARD 0.9.8
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="puppet_class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index</a> &raquo; 
    <span class="title">File: README</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="puppet_class_list_link"
        href="puppet_class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><div id='filecontents'>
<p><a href="https://travis-ci.org/GeoffWilliams/system_users"><img
src="https://travis-ci.org/GeoffWilliams/system_users.svg?branch=master"></a></p>

<h1 id="label-system_users">system_users</h1>

<h4 id="label-Table+of+Contents">Table of Contents</h4>
<ol><li>
<p><a href="#description">Description</a></p>
</li><li>
<p><a href="#usage">Usage - Configuration options and additional
functionality</a></p>
</li><li>
<p><a href="#reference">Reference - An under-the-hood peek at what the module
is doing and how</a></p>
</li><li>
<p><a href="#limitations">Limitations - OS compatibility, etc.</a></p>
</li><li>
<p><a href="#development">Development - Guide for contributing to the
module</a></p>
</li></ol>

<h2 id="label-Description">Description</h2>

<p>This module provides various classes for locking down local users on a
system in order to set password policies, remove invalid users, etc. The
other main feature of the module is to provide a fact called
<code>user_audit</code> that includes information about all local users,
any suspicious files they possess and details of users breaking various
aspects of the login system integrity such as duplicated or mismatched UIDs
or GIDs.</p>

<p>The <code>user_audit</code> fact is structured as follows:</p>

<pre class="code ruby"><code class="ruby">&quot;user_audit&quot;: {
  &quot;empty_password&quot;: [],         // array of users who have empty passwords
  &quot;low_uids&quot;: [],               // array of &#39;system&#39; users (UID &lt; 500)
  &quot;homedirs&quot;: {                 // home directory information for each user (only one shown for clarity)
    &quot;root&quot;: {
      &quot;path&quot;: &quot;/root&quot;,
      &quot;ensure&quot;: &quot;directory&quot;,
      &quot;owner&quot;: &quot;root&quot;,
      &quot;group&quot;: &quot;root&quot;,
      &quot;mode&quot;: &quot;0550&quot;,
      &quot;og_write&quot;: []            // array of other/group writable dotfiles in the top level directory
    },
  },
  &quot;local_users&quot;: {              // user ID information for all local users (only one shown for clarity, password info on RHEL/Solaris only)
    &quot;root&quot;: {
      &quot;uid&quot;: &quot;0&quot;,
      &quot;gid&quot;: &quot;0&quot;,
      &quot;comment&quot;: &quot;root&quot;,
      &quot;home&quot;: &quot;/root&quot;,
      &quot;shell&quot;: &quot;/bin/bash&quot;,
      &quot;last_change_days&quot;: &quot;17207&quot;,
      &quot;change_allowed_days&quot;: &quot;0&quot;,
      &quot;must_change_days&quot;: &quot;99999&quot;,
      &quot;warning_days&quot;: &quot;7&quot;,
      &quot;expires_days&quot;: &quot;&quot;,
      &quot;disabled_days&quot;: &quot;&quot;
    },
  },
  &quot;duplicate&quot;: {
    &quot;uid&quot;: [],                // array of duplicated UIDs
    &quot;username&quot;: [],           // array of duplicated usernames
    &quot;gid&quot;: [],                // array of duplicated GIDs
    &quot;groupname&quot;: [],          // array of duplicated groupnames
    &quot;root_alias&quot;: []          // array of duplicated root users (UID==0)
  }
},</code></pre>

<h2 id="label-Usage">Usage</h2>

<p>Most classes will need to be loaded using the <code>class</code> resource
syntax in order to pass the appropriate class defaults, eg:</p>

<pre class="code ruby"><code class="ruby">class { &quot;foo:bar&quot;:
  param1 =&gt; &quot;value1&quot;,
  param2 =&gt; &quot;value2&quot;,
}</code></pre>

<p>Parameters, where available, are documented inside the individual classes.
See <a href="#reference">Reference section</a>.</p>

<h2 id="label-Reference">Reference</h2>

<p>Reference documentation is generated directly from source code using <a
href="https://github.com/puppetlabs/puppet-strings">puppet-strings</a>. You
may regenerate the documentation by running:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_bundle'>bundle</span> <span class='id identifier rubyid_exec'>exec</span> <span class='id identifier rubyid_puppet'>puppet</span> <span class='id identifier rubyid_strings'>strings</span>
</code></pre>

<p>Or you may view the current <a
href="https://rawgit.com/GeoffWilliams/system_users/master/doc/index.html">generated
documentation</a>.</p>

<p>The documentation is no substitute for reading and understanding the module
source code, and all users should ensure they are familiar and comfortable
with the operations this module performs before using it.</p>

<h2 id="label-Limitations">Limitations</h2>
<ul><li>
<p>AIX 6.1/7.1, RHEL 6/7, Solaris 10 only</p>
</li><li>
<p>Not supported by Puppet, Inc.</p>
</li></ul>

<h2 id="label-Development">Development</h2>

<p>PRs accepted :)</p>

<h2 id="label-Testing">Testing</h2>

<p>This module supports testing using <a
href="https://github.com/GeoffWilliams/pdqtest">PDQTest</a>.</p>

<p>Test can be executed with:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_bundle'>bundle</span> <span class='id identifier rubyid_install'>install</span>
<span class='id identifier rubyid_bundle'>bundle</span> <span class='id identifier rubyid_exec'>exec</span> <span class='id identifier rubyid_pdqtest'>pdqtest</span> <span class='id identifier rubyid_all'>all</span>
</code></pre>

<p>See <code>.travis.yml</code> for a working CI example</p>
</div></div>

      <div id="footer">
  Generated on Sat Feb 25 01:56:14 2017 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.8 (ruby-2.2.6).
</div>

    </div>
  </body>
</html>